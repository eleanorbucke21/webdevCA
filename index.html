<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Custom Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Oswald:wght@200..700&family=Roboto+Condensed:ital,wght@0,100..900;1,100..900&display=swap"
    rel="stylesheet" />

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous" />

  <!-- CSS -->
  <link rel="stylesheet" href="assets/css/style.css" />

  <!-- FONT AWESOME-->
  <script src="https://kit.fontawesome.com/8084e45a7c.js" crossorigin="anonymous"></script>

  <title>CCT Rental</title>
</head>

<body>
  <header>
    <!-- Navbar -->
    <nav class="navbar bg-dark-gray">
      <div class="container-fluid justify-content-center">
        <!-- Navbar brand (Logo) -->
        <a class="navbar-brand" href="index.html">
          <i class="fa-solid fa-film"></i> CCT Rental
        </a>
      </div>
    </nav>
  </header>


   <!-- Genre Buttons -->

  <div class="container-fluid genre-button py-5">
    <button type="button" class="btn btn-secondary" onclick="filterMovies('Comedy')">Comedy</button>
    <button type="button" class="btn btn-secondary" onclick="filterMovies('Fantasy')">Fantasy</button>
    <button type="button" class="btn btn-secondary" onclick="filterMovies('Crime')">Crime</button>
    <button type="button" class="btn btn-secondary" onclick="filterMovies('Drama')">Drama</button>
    <button type="button" class="btn btn-secondary" onclick="filterMovies('Music')">Music</button>
    <button type="button" class="btn btn-secondary" onclick="filterMovies('Adventure')">Adventure</button>
    <button type="button" class="btn btn-secondary" onclick="filterMovies('History')">History</button>
    <button type="button" class="btn btn-secondary" onclick="filterMovies('Thriller')">Thriller</button>
    <button type="button" class="btn btn-secondary" onclick="filterMovies('Animation')">Animation</button>
    <button type="button" class="btn btn-secondary" onclick="filterMovies('Family')">Family</button>
    <button type="button" class="btn btn-secondary" onclick="filterMovies('Mystery')">Mystery</button>
    <button type="button" class="btn btn-secondary" onclick="filterMovies('Biography')">Biography</button>
    <button type="button" class="btn btn-secondary" onclick="filterMovies('Action')">Action</button>
    <button type="button" class="btn btn-secondary" onclick="filterMovies('Film-Noir')">Film-Noir</button>
    <button type="button" class="btn btn-secondary" onclick="filterMovies('Romance')">Romance</button>
    <button type="button" class="btn btn-secondary" onclick="filterMovies('Sci-Fi')">Sci-Fi</button>
    <button type="button" class="btn btn-secondary" onclick="filterMovies('War')">War</button>
    <button type="button" class="btn btn-secondary" onclick="filterMovies('Western')">Western</button>
    <button type="button" class="btn btn-secondary" onclick="filterMovies('Horror')">Horror</button>
    <button type="button" class="btn btn-secondary" onclick="filterMovies('Musical')">Musical</button>
    <button type="button" class="btn btn-secondary" onclick="filterMovies('Sport')">Sport</button>
</div>


  <div class="container-fluid px-5">
    <!-- Gallery of Movies -->

    <div id="gallery-container" class="gallery d-flex justify-content-center"></div>
  </div>

 <!-- JavaScript -->
<script>
  function filterMovies(genre) {
    // Fetch the film data from the JSON file
    fetch("film.json")
      .then((response) => response.json())
      .then((data) => {
        const movies = data.movies;

        const galleryContainer = document.getElementById("gallery-container");

        // Clear the existing gallery
        galleryContainer.innerHTML = '';

        // Filter movies based on genre
        const filteredMovies = genre === 'All' ? movies : movies.filter((movie) => movie.genres.includes(genre));

        // Display filtered movies
        filteredMovies.forEach((movie) => {
          const linkElement = document.createElement("a");
          linkElement.href = `movie_detail.html?id=${movie.id}`;

          const imgElement = document.createElement("img");
          imgElement.src = movie.posterUrl;
          imgElement.alt = movie.title;
          imgElement.width = movie.thumbnail_width;
          imgElement.height = movie.thumbnail_height;
          imgElement.classList.add("gallery");

          linkElement.appendChild(imgElement);

          galleryContainer.appendChild(linkElement);
        });
      })
      .catch((error) => console.error("Error fetching film data:", error));
  }

  // Initial fetch for all movies
  filterMovies('All'); 
</script>



  <!-- Bootstrap JS and its dependencies -->
  <!-- Bootstrap JS and its dependencies -->

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
    integrity="sha384-mQ93GR66B00ZXjt0YO5KlohRA5SY2XofL2z5oCD9g2F5Jq5FJabXhUpF5Zfs0bV" crossorigin="anonymous"></script>
</body>

</html>